

<!doctype html>
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]>    <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="en" class="no-js"> <!--<![endif]-->
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <link rel="canonical" href="http://blog.zsoldosp.eu/2011/04/what-have-i-learned-from-working-with.html" />
    
  <meta name="description" content="What have I learned from working with legacy code? is about software" />

  <title>What have I learned from working with legacy code? | Do. Reflect. Learn. Repeat!</title>
  <meta name="author" content="Peter Zsoldos">

  <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://feeds.feedburner.com/zsoldosp" />
  <link rel="shortcut icon" href="/favicon.ico">
  <link href="/css/reset.css" media="screen" rel="stylesheet" type="text/css" /> 
  <link href="/css/main.css" media="screen" rel="stylesheet" type="text/css" /> 
  <link href="/css/pygment-tango.css" media="screen" rel="stylesheet" type="text/css" /> 
  <script type="text/javascript">
  const posthogConsentKey = 'posthog-consent';
  const consentPosthogConsentStore = window.localStorage;
  const consentFormId = 'posthog-consent-form';
  const consentOK = 'OK'
  const noConsent = 'DNT'
  function consent(isOK) {
  	consentPosthogConsentStore[posthogConsentKey] = isOK;
	posthogInit()
	updateConsentUI()
  }

  function updateConsentUI() {
	if(posthogHasChosen()) {
		const form = document.querySelector('#' + consentFormId);
		if (form) {
			form.parentNode.removeChild(form);
		}
		if(hasConsent()) {
			setConsentText('You consented to analytics cookies')
		} else {
			setConsentText('You opted out from analytics cookies')
		}
	} else {
		setConsentText('No tracking happens until you consent to it using the below form')
		addConsentForm()
	}
  }
  function addConsentForm() {
	const inner = document.querySelector('#content .inner');
	const form = document.createElement("form");
	form.id = consentFormId;
	form.innerHTML = '<p>I would like to know which pages/articles are seen the most so I can improve the content of the site. For that, I chose the GDPR compliant <a href="https://posthog.com">posthog.com</a>, and it uses cookies if you consent.</p><p><input type=button onclick="consent(consentOK)" value="Cookies are OK, write more artcles"> <input type="button" onclick="consent(noConsent)" value="Do Not Track, please"></p>';
	inner.insertBefore( form, inner.firstChild);
  }
  function posthogHasChosen() {
  	return consentPosthogConsentStore[posthogConsentKey] !== undefined;
  }
  function hasConsent() {
  	return consentPosthogConsentStore[posthogConsentKey] === consentOK;
  }
  function posthogInit() {
     !function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.async=!0,p.src=s.api_host+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags getFeatureFlag getFeatureFlagPayload reloadFeatureFlags group updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures getActiveMatchingSurveys getSurveys onSessionId".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
    posthog.init('phc_hc0BgsP5GW7bfHwdwV30CE3ezvLpitrbAscVGdNbONr',{api_host:'https://eu.posthog.com'})

  }

  function setConsentText(msg) {
  	const node = document.querySelector('#posthog-chosen')
	const sentences = node.innerText.split('.')
	sentences[0] = msg
	node.innerText = sentences.join('.');
  }

  if(hasConsent()) { posthogInit(); document}
  document.addEventListener('DOMContentLoaded', updateConsentUI)
  </script>

</head>

  <body>
    <div id="header">
      <div class="inner">
                <ul>
                    <li><a href="https://twitter.com/zsepi">@zsepi</a></li>
                    <li><a href="/about.html">about me</a></li>
                    <li><a href="/category/software/">software</a></li>
                    <li><a href="/category/outdoors/">outdoors</a></li>
                </ul>
                <h1><a href="/">Do. Reflect. Learn. Repeat!</a></h1>
                <h2>Excercises in public learning</h2>
		<p id="posthog-chosen" style="font-size: 70%; text-align: right; font-style: italic">This site doesn't use cookies, and doesn't collect data about your visit. The hosting provider likely records operational data. For more info, email me hello at zsoldosp.eu</p>
      </div>
    </div>
    <div id="content">
        <div class="inner">
            
  





<div itemscope itemtype="http://schema.org/Article" class="post">
    <h3><a itemprop="name" href="/2011/04/what-have-i-learned-from-working-with.html/">What have I learned from working with legacy code?</a></h3>
  
    <div itemprop="articleBody" class="body">
        
<p><a href="http://en.wikipedia.org/wiki/Legacy_code">Legacy code</a> (code you've inherited from someone else, likely without tests) is evil and feared by those who are sentenced to work with it. It sucks the life out of one, doesn't it? Yet it is similar to the <a href="http://www.youtube.com/watch?v=ExWfh6sGyso">"what have the romans ever done for us"</a> scene from Monty Python's Life of Brian - there are a lot of great things to learn from it. I would even consider it a required experience to become a well-rounded software developer. Below is my (by no means complete) list of things I've learned from legacy code.</p><br/> <p><strong>Humility</strong> was a hard lesson - I've been rather confident in my skills and ability, yet I have (and seen others too) break working applications without noticing, looking for bug sources in places where they are logically expected to be yet hiding nowhere even close to that area, that misleading can the code be. I've had to face that by no means can I just rely on my gut feeling, and I've picked up a few nice tricks (e.g.: run the application with a coverage tool attached to ensure proper and <strong>quick impact analysis</strong> area when you are tasked with enhancing the behavior for a button click - nasty surprises can be avoided!).</p><br/> <p><strong>Scope discipline</strong> is a related lesson - <strong>stay focused</strong>, and only change the parts of the code that you really need to. You might realize that there is a broken csv parser implementation there, which you can rewrite or replace with a standard library while working on some nearby area of the codebase... Don't change it then - it might have quirks you are not aware of, bugs, which are actually required for the daily use of the software. It is going to take much longer than expected to fix that (and fix/discover the unintended consequences). Just make a note, then finish what you are working on, and then raise it as an improvement. If <strong>it ain't broken, don't fix it</strong>.</p><br/> <p>Some of these applications require a long time to start, and have tons of dependencies - unit testing was a cute thing I've learnt during my school days, but at the beginning of my career I didn't practice it for the short, quick projects I've worked on. Working with legacy applications pushed me to <strong>learn more about automated testing</strong>. Of course, legacy code is rather hard to test, so one learns about <strong><a href="http://www.refactoring.com/">disciplined refactoring</a></strong> and other <a href="http://www.amazon.com/Working-Effectively-Legacy-Michael-Feathers/dp/0131177052">techniques to make them testable</a> and ends up learning about (<a href="http://www.industriallogic.com/xp/refactoring/">refactoring to</a>) <a href="http://en.wikipedia.org/wiki/Design_pattern_(computer_science)">design patterns</a>. The ability to <a href="http://kashfarooq.wordpress.com/2009/08/24/tdd-using-an-action-or-a-func-to-test-the-hard-to-test/">quickly isolate just the bit you are trying to test</a> and <a href="http://www.google.hu/search?q=site%3Ahttp%3A%2F%2Fanarchycreek.com+inurl%3Adoubledawg">stop there</a> has served me well ever since - perfect is the enemy of the good, so just enough is enough most of the time.</p><br/> <p>Legacy code usually also means being part of the maintenance phase of the lifecycle (which is much longer than the initial development), so one really starts to feel the pain of <strong>deployment</strong> and quickly learns to <a href="/2010/08/executable-documentation.html">automate as much as possible</a>. I've been lucky enough to have had the on-call support experience, where I learned to value <strong>useful log messages</strong> with <strong><a href="http://teddziuba.com/2011/03/monitoring-theory.html">appropriate alerting strategies</a></strong>. Even when the app doesn't have an ops team of its own I find some (friends) to ask about support/monitoring requirements they would have for the new features being developed.</p><br/> <p>Dealing with the change requests also made me realize that most of the time we just can't plan for the future - changes are never to be made at the planned extension points (aka <strong><a href="http://c2.com/xp/YouArentGonnaNeedIt.html">YAGNI</a></strong>). Just keep the code as small and simple as possible - this also results in faster learning curves for new developers, since they don't need to learn complex architectures. <a href="http://xprogramming.com/">Ron Jeffries</a>' <a href="http://www.amazon.com/Extreme-Programming-Adventures-DV-Microsoft-Professional/dp/0735619492">Extreme Programming Adventures in C#</a> shows a great example of <strong>just enough design</strong> for a real program.</p><br/> <p>After having waded through some obscure cornet of the application, I always feel that I need to <strong>share the knowledge</strong> with the rest of the team. On the one hand, if I can save them time, the better, on the other hand, I don't want to become a single point of failure. Thus I value <strong><a href="/2011/03/how-why-i-do-code-reviews.html">code reviews</a>, post mortems/retrospectives, <a href="/2010/08/executable-documentation.html">good documentation/fixlogs</a></strong> - knowledge silos are an antipattern!</p><br/> <p>So, you'll get familiar with <strong>antipatterns, smells</strong>, which, when read about in the abstract, sometimes are hard to actually understand. Seeing (and suffering because of) them will make you remember, and it will become second nature. Like intention revealing variables, method, and class names <a href="http://geekandpoke.typepad.com/geekandpoke/2011/02/the-real-coder.html">that can be trusted</a>.</p><br/> <p>In summary: Legacy Code is a great learning opportunity both for technical skills and attitude.</p>
    </div>
    <div class="meta">
        <p>What do you think? I would love if you would <strong>leave a comment</strong> - drop me an <strong>email</strong> at <strong><a href="mailto:hello@zsoldosp.eu">hello@zsoldosp.eu</a></strong>, tell me on <a href="https://twitter.com/intent/tweet?url=http://blog.zsoldosp.eu/2011/04/what-have-i-learned-from-working-with.html&text=@zsepi, in response to What have I learned from working with legacy code?">Twitter</a>!
    </div>
    <div class="meta">
        <p>Posted on <a href="/2011/04/what-have-i-learned-from-working-with.html/" itemprop="datePublished" content="2011-04-03T10:59">April 03, 2011 at 10:59 AM</a> in <span class="blog_post_categories"><a href='/category/software/'>software</a></span> by <a href="/about.html" rel="author" itemprop="author" itemscope itemtype="http://schema.org/Person" itemprop="name">Peter</a></p>
        <p>Share this post if you liked it - on 
<a href="http://digg.com/submit?url=http://blog.zsoldosp.eu/2011/04/what-have-i-learned-from-working-with.html">Digg</a>,
<a href="http://facebook.com/sharer.php?u=http://blog.zsoldosp.eu/2011/04/what-have-i-learned-from-working-with.html">Facebook</a>, 
<a href="https://plus.google.com/share?url=http://blog.zsoldosp.eu/2011/04/what-have-i-learned-from-working-with.html">Google+</a>, 
<a href="http://reddit.com/submit?url=http://blog.zsoldosp.eu/2011/04/what-have-i-learned-from-working-with.html&title=What have I learned from working with legacy code?">reddit</a>,
or
<a href="https://twitter.com/intent/tweet?url=http://blog.zsoldosp.eu/2011/04/what-have-i-learned-from-working-with.html&text=What have I learned from working with legacy code?&via=zsepi">Twitter</a>

 
    </p>
    </div>
    

<form style="border:1px solid #ccc;padding:3px;text-align:center;" action="http://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open('http://feedburner.google.com/fb/a/mailverify?uri=zsoldosp', 'popupwindow', 'scrollbars=yes,width=550,height=520'); _gaq.push(['_trackEvent', 'blog', 'Email Subscribe']); return true">
    <p>Your email address</p>
    <p><input type="text" style="width:340px" name="email"/></p>
    <input type="hidden" value="zsoldosp" name="uri"/>
    <input type="hidden" name="loc" value="en_US"/>
    <input type="submit" value="Subscribe to get new posts via email!" />
</form>

        </div>
    </div>
        <div id="footer" class="clearfix">
            <div class="inner">
                <div class="about">
                    <h3><a href="/about.html">About Me</a></h3>
                    
                    <a href="/about.html"><img src="/img/me_small.jpg" alt="ME" /></a>
                    <div>
                        I'm a software developer and outdoors enthusiast among other things. <a href="/about.html">Read more</a>
                    </div>
                </div>
            <div class="about">
                <p>Powered by <a href="http://www.blogofile.com">Blogofile</a></p>
                <p>Template from <a href="https://github.com/jamesyu/jamesyu_jekyll_template">James Yu's Jekyll template</a>

<p>This is a personal weblog. The opinions expressed here are my own and not necessarily reflect those of my - current or former - employers'.

<p>All posts - unless noted otherwise - are licensed under a Creative Commons Attribution-Noncommercial-Share Alike 3.0 License.

<a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license"><img alt="Creative Commons License" style="border-width: 0pt;" src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" /></a></p>
                
            </div>
        </div>
    </body> 
</html>

